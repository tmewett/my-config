#!/usr/bin/env bash

print_help() {
    echo "usage: t [COMMAND...]"
}

while true; do
    case "$1" in
    -h|--help)
        print_help
        exit 0
        ;;
    *)
        break
        ;;
    esac
    shift
done

if [ $# -eq 0 ]; then
    if w -q wt; then
        exec w wt nt -p MSYS2
    fi
    if type -q gnome-terminal; then
        exec gnome-terminal --
    fi
fi
if w -q wt; then
    exec w wt nt -p MSYS2 C:\\msys64\\msys2_shell.cmd -defterm -no-start -here -c "fish -c '$*'"
fi
if type -q gnome-terminal; then
    exec gnome-terminal --
fi
