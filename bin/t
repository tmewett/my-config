#!/usr/bin/env bash

print_help() {
    echo "usage: t [COMMAND...]"
}

while true; do
    case "$1" in
    -h|--help)
        print_help
        exit 0
        ;;
    *)
        break
        ;;
    esac
    shift
done

if w -q wt; then
    if [ $# -eq 0 ]; then
        exec w wt nt -p MSYS2
    else
        exec w wt nt -p MSYS2 C:\\msys64\\msys2_shell.cmd -defterm -no-start -here -c "fish -c '$*'"
    fi
fi
if type gnome-terminal &> /dev/null; then
    exec gnome-terminal -- "$@"
fi
