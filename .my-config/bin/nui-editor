#!/usr/bin/env fish

argparse "h/help" -- $argv

# Print the script as a default --help action
begin
    set -l file (status filename)
    if set -q _flag_help; and test -e $file
        set -l full_file (realpath $file)
        echo "### file $full_file"
        cat $full_file
        exit
    end
end

__nui_vars

if not set -q DISPLAY
    $NUI_TERMINAL_EDITOR $argv
else
    $NUI_EDITOR $argv
end
